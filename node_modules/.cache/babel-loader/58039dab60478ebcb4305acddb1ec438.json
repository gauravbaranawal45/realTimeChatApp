{"ast":null,"code":"import _slicedToArray from\"/var/www/html/react_project/realchat/github/realTimeChatApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{Link,withRouter}from\"react-router-dom\";import'./style.css';function Userlist(props){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),searchkey=_React$useState4[0],setSearchkey=_React$useState4[1];var _React$useState5=React.useState([]),_React$useState6=_slicedToArray(_React$useState5,2),searchpeopledata=_React$useState6[0],setSearchpeopledata=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),suggetionvalue=_React$useState8[0],setSuggetionvalue=_React$useState8[1];var onchange=function onchange(e){if(e.target.value!==''){setSearchkey(e.target.value);setOpen(true);var suggetionVal=[];searchpeopledata.map(function(item){var searchkeyval=e.target.value.toLowerCase();var itemval=item.name.toLowerCase();if(itemval.includes(searchkeyval)){suggetionVal.push(item);}});setSuggetionvalue(suggetionVal);}else{setOpen(false);setSearchkey(\"\");}};var selectuser=function selectuser(item){var userId=JSON.parse(localStorage.getItem('__chatauth')).userId;setOpen(false);var payload={receiver:item._id,sender:userId,name:item.name,img:\"\"};props.addNewUser(payload,props.history);setSearchkey('');// props.history.push(\"/messenger/\"+item._id)\n};return/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 col-xl-3 chat\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card mb-sm-3 mb-md-0 contacts_card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Search...\",onChange:onchange,value:searchkey,className:\"form-control search\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-prepend\"},/*#__PURE__*/React.createElement(\"span\",{className:\"input-group-text search_btn\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-search\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body contacts_body\"},open&&/*#__PURE__*/React.createElement(\"ul\",{className:\"seachpopop\"},props.chatlistdata.allUsers&&props.chatlistdata.allUsers.map(function(item,i){return/*#__PURE__*/React.createElement(\"li\",{style:{cursor:\"pointer\"},key:i,onClick:function onClick(){return selectuser(item);},className:\"\".concat(i===0?\"active\":\"\")},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex bd-highlight\"},/*#__PURE__*/React.createElement(\"div\",{className:\"img_cont\"},/*#__PURE__*/React.createElement(\"img\",{src:\"https://static.turbosquid.com/Preview/001292/481/WV/_D.jpg\",className:\"rounded-circle user_img\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"online_icon\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"user_info\"},/*#__PURE__*/React.createElement(\"span\",{style:{fontSize:15}},item.name),/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:12}},item.lastmsg),/*#__PURE__*/React.createElement(\"p\",null,\"Kalid is online\"))));})),/*#__PURE__*/React.createElement(\"ul\",{className:\"contacts\"},props.chatlistdata.userList&&props.chatlistdata.userList.map(function(item,i){return/*#__PURE__*/React.createElement(\"li\",{style:{cursor:\"pointer\"},key:i,className:item._id===props.receiver?\"active\":\"\"},/*#__PURE__*/React.createElement(Link,{to:\"/messenger/\".concat(item._id,\"/\").concat(item.chatId)},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex bd-highlight\"},/*#__PURE__*/React.createElement(\"div\",{className:\"img_cont\"},/*#__PURE__*/React.createElement(\"img\",{src:\"https://static.turbosquid.com/Preview/001292/481/WV/_D.jpg\",className:\"rounded-circle user_img\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"online_icon\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"user_info\"},/*#__PURE__*/React.createElement(\"span\",{style:{fontSize:15}},item.name),/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:12}},item.lastmsg),/*#__PURE__*/React.createElement(\"p\",null,\"Kalid is online\")))));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"card-footer\"})));}export default withRouter(Userlist);","map":{"version":3,"sources":["/var/www/html/react_project/realchat/github/realTimeChatApp/src/Component/Messenger/Userlist.js"],"names":["React","Link","withRouter","Userlist","props","useState","open","setOpen","searchkey","setSearchkey","searchpeopledata","setSearchpeopledata","suggetionvalue","setSuggetionvalue","onchange","e","target","value","suggetionVal","map","item","searchkeyval","toLowerCase","itemval","name","includes","push","selectuser","userId","JSON","parse","localStorage","getItem","payload","receiver","_id","sender","img","addNewUser","history","chatlistdata","allUsers","i","cursor","fontSize","lastmsg","userList","chatId"],"mappings":"kLAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,IAAR,CAAaC,UAAb,KAA8B,kBAA9B,CACA,MAAO,aAAP,CAGA,QAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,qBACDJ,KAAK,CAACK,QAAN,CAAe,KAAf,CADC,oDACjBC,IADiB,qBACZC,OADY,0CAESP,KAAK,CAACK,QAAN,CAAe,EAAf,CAFT,qDAEjBG,SAFiB,qBAEPC,YAFO,0CAGuBT,KAAK,CAACK,QAAN,CAAe,EAAf,CAHvB,qDAGjBK,gBAHiB,qBAGAC,mBAHA,0CAImBX,KAAK,CAACK,QAAN,CAAe,EAAf,CAJnB,qDAIjBO,cAJiB,qBAIFC,iBAJE,qBAMxB,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAAO,CACvB,GAAGA,CAAC,CAACC,MAAF,CAASC,KAAT,GAAiB,EAApB,CAAuB,CACtBR,YAAY,CAACM,CAAC,CAACC,MAAF,CAASC,KAAV,CAAZ,CACAV,OAAO,CAAC,IAAD,CAAP,CACA,GAAIW,CAAAA,YAAY,CAAG,EAAnB,CACAR,gBAAgB,CAACS,GAAjB,CAAqB,SAAAC,IAAI,CAAE,CACpB,GAAIC,CAAAA,YAAY,CAAGN,CAAC,CAACC,MAAF,CAASC,KAAT,CAAeK,WAAf,EAAnB,CACA,GAAIC,CAAAA,OAAO,CAAGH,IAAI,CAACI,IAAL,CAAUF,WAAV,EAAd,CACA,GAAGC,OAAO,CAACE,QAAR,CAAiBJ,YAAjB,CAAH,CAAkC,CAChCH,YAAY,CAACQ,IAAb,CAAkBN,IAAlB,EACD,CACJ,CANJ,EAOGP,iBAAiB,CAACK,YAAD,CAAjB,CACH,CAZD,IAYK,CACJX,OAAO,CAAC,KAAD,CAAP,CACAE,YAAY,CAAC,EAAD,CAAZ,CACA,CACD,CAjBD,CAmBA,GAAMkB,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACP,IAAD,CAAU,CAC5B,GAAIQ,CAAAA,MAAM,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,EAA+CJ,MAA5D,CACArB,OAAO,CAAC,KAAD,CAAP,CACA,GAAI0B,CAAAA,OAAO,CAAG,CACbC,QAAQ,CAACd,IAAI,CAACe,GADD,CAEbC,MAAM,CAACR,MAFM,CAGbJ,IAAI,CAACJ,IAAI,CAACI,IAHG,CAIba,GAAG,CAAC,EAJS,CAAd,CAMAjC,KAAK,CAACkC,UAAN,CAAiBL,OAAjB,CAAyB7B,KAAK,CAACmC,OAA/B,EACA9B,YAAY,CAAC,EAAD,CAAZ,CACA;AACA,CAZD,CAeE,mBACE,2BAAK,SAAS,CAAC,wBAAf,eACF,2BAAK,SAAS,CAAC,oCAAf,eACC,2BAAK,SAAS,CAAC,aAAf,eACC,2BAAK,SAAS,CAAC,aAAf,eACC,6BACC,IAAI,CAAC,MADN,CAEY,WAAW,CAAC,WAFxB,CAGY,QAAQ,CAAEK,QAHtB,CAIY,KAAK,CAAEN,SAJnB,CAKC,SAAS,CAAC,qBALX,EADD,cAQC,2BAAK,SAAS,CAAC,qBAAf,eACC,4BAAM,SAAS,CAAC,6BAAhB,eAA8C,yBAAG,SAAS,CAAC,eAAb,EAA9C,CADD,CARD,CADD,CADD,cAeC,2BAAK,SAAS,CAAC,yBAAf,EAECF,IAAI,eACH,0BAAI,SAAS,CAAC,YAAd,EAEEF,KAAK,CAACoC,YAAN,CAAmBC,QAAnB,EACArC,KAAK,CAACoC,YAAN,CAAmBC,QAAnB,CAA4BtB,GAA5B,CAAgC,SAACC,IAAD,CAAMsB,CAAN,qBAC/B,0BAAI,KAAK,CAAE,CAACC,MAAM,CAAC,SAAR,CAAX,CAA+B,GAAG,CAAED,CAApC,CAAuC,OAAO,CAAE,yBAAIf,CAAAA,UAAU,CAACP,IAAD,CAAd,EAAhD,CAAsE,SAAS,WAAKsB,CAAC,GAAG,CAAJ,CAAQ,QAAR,CAAmB,EAAxB,CAA/E,eACC,2BAAK,SAAS,CAAC,qBAAf,eACC,2BAAK,SAAS,CAAC,UAAf,eACC,2BAAK,GAAG,CAAC,4DAAT,CAAsE,SAAS,CAAC,yBAAhF,EADD,cAEC,4BAAM,SAAS,CAAC,aAAhB,EAFD,CADD,cAKC,2BAAK,SAAS,CAAC,WAAf,eACC,4BAAM,KAAK,CAAE,CAACE,QAAQ,CAAC,EAAV,CAAb,EAA6BxB,IAAI,CAACI,IAAlC,CADD,cAEC,yBAAG,KAAK,CAAE,CAACoB,QAAQ,CAAC,EAAV,CAAV,EAA0BxB,IAAI,CAACyB,OAA/B,CAFD,cAGC,+CAHD,CALD,CADD,CAD+B,EAAhC,CAHF,CAHF,cAwBC,0BAAI,SAAS,CAAC,UAAd,EAEEzC,KAAK,CAACoC,YAAN,CAAmBM,QAAnB,EACA1C,KAAK,CAACoC,YAAN,CAAmBM,QAAnB,CAA4B3B,GAA5B,CAAgC,SAACC,IAAD,CAAMsB,CAAN,qBAC/B,0BAAI,KAAK,CAAE,CAACC,MAAM,CAAC,SAAR,CAAX,CAA+B,GAAG,CAAED,CAApC,CAAuC,SAAS,CAAEtB,IAAI,CAACe,GAAL,GAAW/B,KAAK,CAAC8B,QAAjB,CAA4B,QAA5B,CAAuC,EAAzF,eACC,oBAAC,IAAD,EAAM,EAAE,sBAAgBd,IAAI,CAACe,GAArB,aAA4Bf,IAAI,CAAC2B,MAAjC,CAAR,eACA,2BAAK,SAAS,CAAC,qBAAf,eACC,2BAAK,SAAS,CAAC,UAAf,eACC,2BAAK,GAAG,CAAC,4DAAT,CAAsE,SAAS,CAAC,yBAAhF,EADD,cAEC,4BAAM,SAAS,CAAC,aAAhB,EAFD,CADD,cAKC,2BAAK,SAAS,CAAC,WAAf,eACC,4BAAM,KAAK,CAAE,CAACH,QAAQ,CAAC,EAAV,CAAb,EAA6BxB,IAAI,CAACI,IAAlC,CADD,cAEC,yBAAG,KAAK,CAAE,CAACoB,QAAQ,CAAC,EAAV,CAAV,EAA0BxB,IAAI,CAACyB,OAA/B,CAFD,cAGC,+CAHD,CALD,CADA,CADD,CAD+B,EAAhC,CAHF,CAxBD,CAfD,cA8DC,2BAAK,SAAS,CAAC,aAAf,EA9DD,CADE,CADF,CAoEF,CAED,cAAe3C,CAAAA,UAAU,CAACC,QAAD,CAAzB","sourcesContent":["import React from \"react\";\nimport {Link,withRouter} from \"react-router-dom\";\nimport './style.css'\n\n\nfunction Userlist(props) {\n\tconst [open,setOpen] = React.useState(false)\n\tconst [searchkey,setSearchkey] = React.useState('')\n\tconst [searchpeopledata,setSearchpeopledata] = React.useState([])\n\tconst [suggetionvalue,setSuggetionvalue] = React.useState([])\n\n\tconst onchange = (e) => {\n\t\tif(e.target.value!==''){\n\t\t\tsetSearchkey(e.target.value)\n\t\t\tsetOpen(true)\n\t\t\tlet suggetionVal = [];\n\t\t\tsearchpeopledata.map(item=>{\n\t\t        let searchkeyval = e.target.value.toLowerCase();\n\t\t        let itemval = item.name.toLowerCase()\n\t\t        if(itemval.includes(searchkeyval)){\n\t\t          suggetionVal.push(item)\n\t\t        }\n\t\t    })\n\t\t    setSuggetionvalue(suggetionVal)\n\t\t}else{\n\t\t\tsetOpen(false)\n\t\t\tsetSearchkey(\"\")\n\t\t}\n\t}\n\n\tconst selectuser = (item) => {\n\t\tlet userId = JSON.parse(localStorage.getItem('__chatauth')).userId;\n\t\tsetOpen(false)\n\t\tlet payload = {\n\t\t\treceiver:item._id,\n\t\t\tsender:userId,\n\t\t\tname:item.name,\n\t\t\timg:\"\"\n\t\t}\n\t\tprops.addNewUser(payload,props.history)\n\t\tsetSearchkey('')\n\t\t// props.history.push(\"/messenger/\"+item._id)\n\t}\n\n\n  \treturn (\n\t    <div className=\"col-md-4 col-xl-3 chat\">\n\t\t\t<div className=\"card mb-sm-3 mb-md-0 contacts_card\">\n\t\t\t\t<div className=\"card-header\">\n\t\t\t\t\t<div className=\"input-group\">\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t              \tplaceholder=\"Search...\"\n\t\t\t              \tonChange={onchange}\n\t\t\t              \tvalue={searchkey}\n\t\t\t\t\t\t\tclassName=\"form-control search\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"input-group-prepend\">\n\t\t\t\t\t\t\t<span className=\"input-group-text search_btn\"><i className=\"fas fa-search\"></i></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"card-body contacts_body\">\n\t\t\t\t{\n\t\t\t\t\topen &&\n\t\t\t\t\t\t<ul className=\"seachpopop\">\n\t\t\t\t\t\t\t{\t\n\t\t\t\t\t\t\t\tprops.chatlistdata.allUsers &&\n\t\t\t\t\t\t\t\tprops.chatlistdata.allUsers.map((item,i)=>\n\t\t\t\t\t\t\t\t\t<li style={{cursor:\"pointer\"}} key={i} onClick={()=>selectuser(item)} className={`${i===0 ? \"active\" : \"\"}`}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex bd-highlight\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"img_cont\">\n\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"https://static.turbosquid.com/Preview/001292/481/WV/_D.jpg\" className=\"rounded-circle user_img\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"online_icon\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"user_info\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span style={{fontSize:15}}>{item.name}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<p style={{fontSize:12}}>{item.lastmsg}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>Kalid is online</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</ul>\n\t\t\t\t}\n\t\t\t\t\t<ul className=\"contacts\">\n\t\t\t\t\t\t{\t\n\t\t\t\t\t\t\tprops.chatlistdata.userList &&\n\t\t\t\t\t\t\tprops.chatlistdata.userList.map((item,i)=>\n\t\t\t\t\t\t\t\t<li style={{cursor:\"pointer\"}} key={i} className={item._id===props.receiver ? \"active\" : \"\"}>\n\t\t\t\t\t\t\t\t\t<Link to={`/messenger/${item._id}/${item.chatId}`}>\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex bd-highlight\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"img_cont\">\n\t\t\t\t\t\t\t\t\t\t\t<img src=\"https://static.turbosquid.com/Preview/001292/481/WV/_D.jpg\" className=\"rounded-circle user_img\"/>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"online_icon\"></span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"user_info\">\n\t\t\t\t\t\t\t\t\t\t\t<span style={{fontSize:15}}>{item.name}</span>\n\t\t\t\t\t\t\t\t\t\t\t<p style={{fontSize:12}}>{item.lastmsg}</p>\n\t\t\t\t\t\t\t\t\t\t\t<p>Kalid is online</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"card-footer\"></div>\n\t\t\t</div>\n\t\t</div>\n    );\n}\n\nexport default withRouter(Userlist);"]},"metadata":{},"sourceType":"module"}